{% extends 'navbar.html' %}
{% block title %}Dashboard - AI Assistant{% endblock %}
{% block dashboard %}
  <div class="row mb-4">
    <div class="col-12">
      <h1 class="h2 fw-bold mb-1">
        <i class="bi bi-speedometer2 text-primary"></i> Dashboard
      </h1>
      <p class="text-muted">Welcome back! Here's your activity overview</p>
    </div>
  </div>

  <div class="row g-4">
    <div class="col-md-6">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-header border-0 py-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
          <div class="d-flex align-items-center justify-content-between text-white">
            <div>
              <i class="bi bi-list-check fs-4"></i>
              <span class="ms-2 fw-semibold">Recent Tasks</span>
            </div>
            <span class="badge bg-white text-primary fw-bold">{{ recent_todos_count }}</span>
          </div>
        </div>
        <div class="card-body">
          {% if recent_todos %}
            <div class="list-group list-group-flush">
              {% for todo in recent_todos %}
                <div class="list-group-item border-0 px-0 py-3">
                  <i class="bi bi-circle text-primary me-2"></i>
                  <span>{{ todo }}</span>
                </div>
              {% endfor %}
            </div>
            <a href="{% url 'todos_page' %}" class="btn btn-outline-primary btn-sm mt-3">
              <i class="bi bi-arrow-right-circle me-1"></i>View All Tasks
            </a>
          {% else %}
            <div class="text-center py-5">
              <i class="bi bi-inbox display-4 text-muted"></i>
              <p class="text-muted mt-3 mb-0">No recent tasks</p>
            </div>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-header border-0 py-3" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
          <div class="d-flex align-items-center justify-content-between text-white">
            <div>
              <i class="bi bi-journal-text fs-4"></i>
              <span class="ms-2 fw-semibold">Recent Notes</span>
            </div>
            <span class="badge bg-white text-danger fw-bold">{{ recent_notes_count }}</span>
          </div>
        </div>
        <div class="card-body">
          {% if recent_notes %}
            <div class="list-group list-group-flush">
              {% for note in recent_notes %}
                <div class="list-group-item border-0 px-0 py-3">
                  <i class="bi bi-file-text text-danger me-2"></i>
                  <span>{{ note.title }}</span>
                </div>
              {% endfor %}
            </div>
            <a href="{% url 'notes_index' %}" class="btn btn-outline-danger btn-sm mt-3">
              <i class="bi bi-arrow-right-circle me-1"></i>View All Notes
            </a>
          {% else %}
            <div class="text-center py-5">
              <i class="bi bi-journal display-4 text-muted"></i>
              <p class="text-muted mt-3 mb-0">No recent notes</p>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
{% endblock dashboard %}
